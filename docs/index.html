<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brython Examples</title>

    <script src="https://cdn.jsdelivr.net/npm/brython@3/brython.min.js">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/brython@3/brython_stdlib.js">
    </script>

</head>
<body onload="brython({debug:1, pythonpath:['src/python']})">
    <h1>Authorize a bot</h1>

    <input id="token" placeholder="Api token">Bot api token <a href="https://t.me/botfather">what can be found here</a>
    <br>
    <input id="uid" placeholder="ID">Your telegram ID <a href="https://t.me/rawdatabot">what can be found here</a>
    <br>
    <button id="telesendbtn">Sumbit</button>


    <!-- Ajax call -->
    <script type="text/python" id="script3">
        from browser import document, ajax
        import browser
        import telebot
        # import requests

        url = 'https://api.chucknorris.io/jokes/random'

        # datafile = open("data.txt","r")

        def authbot(e):
            token = document['token'].value
            id = document['uid'].value
            try:
                bot = telebot.Telebot(token)
                bot.send_message(id, "Connected.")
                browser.alert("Succesfully conected!")
            except:
                browser.alert("Error was to connect! Check your token and id, and be sure you writed something to your bot before!")

        document['telesendbtn'].bind('click', authbot)
    </script>

</body>
